

/* package whatever; // don't place package name! */

import java.util.*;
import java.lang.*;
import java.io.*;

class check implements Comparable<check> {
	public int roll, marks;
	public String name;

	public check(String name, int roll, int marks) {
		this.name = name;
		this.roll = roll;
		this.marks = marks;
	}
	
	public String print() {
		return (roll + " " + name);
	}

	public int compareTo(check o) {
        // complete the function!
		int marks = o.marks-this.marks;
		if(marks!=0)
			return marks;
		int names = o.name.compareTo(this.name);
		if(names!=0)
			return names;
        else
        	return this.roll-o.roll;
	}

}

class Test
{
	public static void main (String[] args) throws java.lang.Exception
	{
		int t;
		BufferedReader input = new BufferedReader (new InputStreamReader (System.in));
		t =Integer.parseInt(input.readLine());
		List<check> records = new ArrayList<check>();
		while(t > 0)
		{
			String a = input.readLine();
			List<String> temp = Arrays.asList(a.split(","));
			String name = temp.get(0);
			int roll = Integer.parseInt(temp.get(1).trim());
			int marks = Integer.parseInt(temp.get(2).trim());
			records.add(new check(name, roll, marks));
			t--;
		}
		
		Collections.sort(records);
		
		for(int i=0; i<records.size(); i++)
			System.out.println(records.get(i).print());
		
	}
}